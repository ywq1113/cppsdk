# ============================
# Google C++ Style Base
# Modern C++ 17/20 Optimized
# ============================

BasedOnStyle: Google
Language: Cpp
Standard: c++20

# ---- Indentation & Spaces ----
IndentWidth: 2
TabWidth: 4
UseTab: Never
ContinuationIndentWidth: 4
IndentCaseLabels: false            # Google: case aligned with switch

# ---- Line Breaking Rules ----
ColumnLimit: 80                   # Google recommends 80
AllowShortFunctionsOnASingleLine: Empty
AllowShortIfStatementsOnASingleLine: true
AllowShortLoopsOnASingleLine: true
BinPackArguments: true            # Google: pack arguments into one line when possible
BinPackParameters: true

# ---- Brace Rules ----
BreakBeforeBraces: Attach
BraceWrapping:
  AfterFunction: false
  AfterClass: false
  AfterControlStatement: false
  BeforeElse: false

# ---- Comment Rules ----
ReflowComments: true
SpacesBeforeTrailingComments: 1

# ---- Space Rules ----
KeepEmptyLinesAtTheStartOfBlocks: false
MaxEmptyLinesToKeep: 1

# ---- Include Rules ----
SortIncludes: true
IncludeBlocks: Regroup
IncludeCategories:
  - Regex: '^"(.*)"'
    Priority: 1
  - Regex: '^<c.*>'
    Priority: 2
  - Regex: '^<.*>'
    Priority: 3
  - Regex: '.*'
    Priority: 4

# ---- Pointer Rules ----
PointerAlignment: Right           # Google: int *ptr;

# ---- Namespace Rules ----
NamespaceIndentation: None

# ---- Constructor Rules ----
ConstructorInitializerAllOnOneLineOrOnePerLine: false
BreakConstructorInitializersBeforeComma: false

# ---- Template Rules ----
SpacesInAngles: false
SpaceBeforeCpp11BracedList: false
Cpp11BracedListStyle: true

# ---- Other Rules ----
AlignAfterOpenBracket: Align
AlignOperands: true
DerivePointerAlignment: false
AllowAllParametersOfDeclarationOnNextLine: false
